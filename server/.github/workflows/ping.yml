name: Ping

on:
  schedule:
    - cron: "*/5 * * * *"
  workflow_dispatch:

jobs:
  ping:
    runs-on: ubuntu-latest
    steps:
      - name: Ping
        run: |
          echo "Pinging Render"
          URLS=(
            "https://dotcomm-bn2i.onrender.com"
            "https://dotcomm-bn2i.onrender.com/ping"
            "https://dotcomm-bn2i.onrender.com/users"
            "https://dotcomm-bn2i.onrender.com/events"
          )

          for URL in "${URLS[@]}"; do
            echo "â†’ Calling $URL"
            curl -s -o /dev/null -w "Status: %{http_code}\n" "$URL"
            sleep 5
          done

          echo "Pinged"
