<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>DotComm | API documentation</title>
    <link rel="stylesheet" href="./style.css" />
  </head>
  <body>
    <header>
      <h1>DotComm</h1>
      <h2>Endpoints</h2>
      <nav>
        <ul>
          <li><strong>Users</strong></li>
          <li><a href="#get-users">GET /users</a></li>
          <li><a href="#get-user">GET /users/:id</a></li>
          <li><a href="#post-admin">POST /users/admin</a></li>
          <li><a href="#post-register">POST /users/register</a></li>
          <li><a href="#post-login">POST /users/login</a></li>
          <li><a href="#patch-user">PATCH /users/:id</a></li>
          <li><a href="#delete-user">DELETE /users/:id</a></li>
          <li><strong>Events</strong></li>
          <li><a href="#get-events">GET /events</a></li>
          <li><a href="#get-event">GET /events/:id</a></li>
          <li><a href="#post-event">POST /events</a></li>
          <li><a href="#patch-event">PATCH /events/:id</a></li>
          <li><a href="#delete-event">DELETE /events/:id</a></li>
          <li><strong>Misc</strong></li>
          <li><a href="#post-register-event">POST /events/:id/register</a></li>
        </ul>
      </nav>
    </header>

    <main>
      <section id="get-users">
        <h2>GET /users</h2>
        <p>Retrieves all registered users (ADMIN only).</p>
        <h3>Example Request</h3>
        <pre>{}</pre>
        <h3>Example Response</h3>
        <pre>
{
  "users": [
    {
      "_id": "64f123abc456def789012345",
      "name": "John Smith",
      "username": "johnsmith",
      "email": "john.smith@example.com",
      "password": "$2b$10$...",
      "role": "user",
      "avatar": "https://example.com/avatar1.png",
      "birthday": "1990-06-15",
      "phone": "+1 555-123-4567",
      "bio": "Software developer and coffee enthusiast.",
      "events": ["68e555e6228fa4ad21af6704"],
      "createdAt": "2025-10-07T16:16:56.128Z",
      "updatedAt": "2025-10-07T16:16:56.128Z",
      "__v": 0
    },
    {
      "_id": "64f123abc456def789012348",
      "name": "Emily Davis",
      "username": "emilyd",
      "email": "emily.davis@example.com",
      "password": "$2b$10$...",
      "role": "user",
      "avatar": "https://example.com/avatar4.png",
      "birthday": "1993-11-08",
      "phone": "+1 555-222-3333",
      "bio": "Graphic designer and amateur photographer.",
      "events": ["68e555e6228fa4ad21af6707"],
      "createdAt": "2025-10-07T16:25:00.128Z",
      "updatedAt": "2025-10-07T16:25:00.128Z",
      "__v": 0
    }
  ]
}</pre
        >
      </section>

      <section id="get-user">
        <h2>GET /users/:id</h2>
        <p>Retrieves a single user by ID (ADMIN only).</p>
        <h3>Example Request</h3>
        <pre>{}</pre>
        <h3>Example Response</h3>
        <pre>
{
  "user": {
    "_id": "64f123abc456def789012345",
    "name": "John Smith",
    "username": "johnsmith",
    "email": "john.smith@example.com",
    "password": "$2b$10$...",
    "role": "user",
    "avatar": "https://example.com/avatar1.png",
    "birthday": "1990-06-15",
    "phone": "+1 555-123-4567",
    "bio": "Software developer and coffee enthusiast.",
    "events": ["68e555e6228fa4ad21af6704"],
    "createdAt": "2025-10-07T16:16:56.128Z",
    "updatedAt": "2025-10-07T16:16:56.128Z",
    "__v": 0
  }
}</pre
        >
      </section>

      <section id="post-admin">
        <h2>POST /users/admin</h2>
        <p>Creates a new admin user (ADMIN only).</p>
        <h3>Example Request</h3>
        <pre>
{
  "name": "Robert Brown",
  "username": "robertb",
  "email": "robert.brown@example.com",
  "password": "securePass123",
  "role": "admin"
}</pre
        >
        <h3>Example Response</h3>
        <pre>
{
  "message": "Registration successful",
  "user": {
    "_id": "64f123abc456def789012347",
    "name": "Robert Brown",
    "username": "robertb",
    "email": "robert.brown@example.com",
    "password": "$2b$10$...",
    "role": "admin",
    "avatar": null,
    "birthday": null,
    "phone": null,
    "bio": null,
    "events": [],
    "createdAt": "2025-10-07T16:20:00.128Z",
    "updatedAt": "2025-10-07T16:20:00.128Z",
    "__v": 0
  },
  "token": "JWT_TOKEN"
}</pre
        >
      </section>

      <section id="post-register">
        <h2>POST /users/register</h2>
        <p>Registers a new regular user.</p>
        <h3>Example Request</h3>
        <pre>
{
  "name": "Alice Johnson",
  "username": "alicej",
  "email": "alice.johnson@example.com",
  "password": "password123"
}</pre
        >
        <h3>Example Response</h3>
        <pre>
{
  "message": "Registration successful",
  "user": {
    "_id": "64f123abc456def789012348",
    "name": "Alice Johnson",
    "username": "alicej",
    "email": "alice.johnson@example.com",
    "password": "$2b$10$...",
    "role": "user",
    "avatar": null,
    "birthday": null,
    "phone": null,
    "bio": null,
    "events": [],
    "createdAt": "2025-10-07T16:25:00.128Z",
    "updatedAt": "2025-10-07T16:25:00.128Z",
    "__v": 0
  },
  "token": "JWT_TOKEN_HERE"
}</pre
        >
      </section>

      <section id="post-login">
        <h2>POST /users/login</h2>
        <p>Authenticates a user and returns JWT token.</p>
        <h3>Example Request</h3>
        <pre>
{
  "email": "john.smith@example.com",
  "password": "password123"
}</pre
        >
        <h3>Example Response</h3>
        <pre>
{
  "message": "Login successful",
  "user": {
    "_id": "64f123abc456def789012345",
    "name": "John Smith",
    "username": "johnsmith",
    "email": "john.smith@example.com",
    "avatar": "https://example.com/avatar1.png",
    "birthday": "1990-06-15",
    "phone": "+1 555-123-4567",
    "bio": "Software developer and coffee enthusiast.",
    "events": ["68e555e6228fa4ad21af6704"]
  },
  "token": "JWT_TOKEN"
}</pre
        >
      </section>

      <section id="patch-user">
        <h2>PATCH /users/:id</h2>
        <p>Updates a user’s profile information (SELF or ADMIN only).</p>
        <h3>Example Request</h3>
        <pre>
{
  "bio": "Updated biography"
}</pre
        >
        <h3>Example Response</h3>
        <pre>
{
  "message": "User successfully updated",
  "user": {
    "_id": "64f123abc456def789012345",
    "name": "John Smith",
    "username": "johnsmith",
    "email": "john.smith@example.com",
    "avatar": "https://example.com/avatar1.png",
    "birthday": "1990-06-15",
    "phone": "+1 555-123-4567",
    "bio": "Updated biography",
    "events": ["68e555e6228fa4ad21af6704"]
  }
}</pre
        >
      </section>

      <section id="delete-user">
        <h2>DELETE /users/:id</h2>
        <p>Deletes a user (SELF or ADMIN only).</p>
        <h3>Example Request</h3>
        <pre>{}</pre>
        <h3>Example Response</h3>
        <pre>
{
  "message": "User successfully deleted",
  "user": {
    "_id": "64f123abc456def789012345",
    "name": "John Smith",
    "username": "johnsmith",
    "email": "john.smith@example.com",
    "avatar": "https://example.com/avatar1.png",
    "birthday": "1990-06-15",
    "phone": "+1 555-123-4567",
    "bio": "Software developer and coffee enthusiast.",
    "events": ["68e555e6228fa4ad21af6704"]
  }
}</pre
        >
      </section>

      <section id="get-events">
        <h2>GET /events</h2>
        <p>Retrieves all available events.</p>
        <h3>Example Request</h3>
        <pre>{}</pre>
        <h3>Example Response</h3>
        <pre>
{
  "events": [
    {
      "_id": "68e555e6228fa4ad21af6704",
      "title": "Open Source Hackathon 2025",
      "description": "Collaborative coding weekend.",
      "date": "2025-12-06",
      "price": 0,
      "location": "San Francisco, CA",
      "image": "https://example.com/event1.png",
      "capacity": 200,
      "attendees": ["64f123abc456def789012345"],
      "createdAt": "2025-10-07T16:30:00.128Z",
      "updatedAt": "2025-10-07T16:30:00.128Z",
      "__v": 0
    },
    {
      "_id": "68e555e6228fa4ad21af6705",
      "title": "Tech Summit 2025",
      "description": "Annual event for developers and innovators.",
      "date": "2025-09-15",
      "price": 25,
      "location": "Torino",
      "image": "https://example.com/event2.png",
      "capacity": 100,
      "attendees": [],
      "createdAt": "2025-10-07T16:35:00.128Z",
      "updatedAt": "2025-10-07T16:35:00.128Z",
      "__v": 0
    }
  ]
}</pre
        >
      </section>

      <section id="get-event">
        <h2>GET /events/:id</h2>
        <p>Retrieves a single event by ID.</p>
        <h3>Example Request</h3>
        <pre>{}</pre>
        <h3>Example Response</h3>
        <pre>
{
  "event": {
    "_id": "68e555e6228fa4ad21af6704",
    "title": "Open Source Hackathon 2025",
    "description": "Collaborative coding weekend.",
    "date": "2025-12-06",
    "price": 0,
    "location": "San Francisco, CA",
    "image": "https://example.com/event1.png",
    "capacity": 200,
    "attendees": ["64f123abc456def789012345"],
    "createdAt": "2025-10-07T16:30:00.128Z",
    "updatedAt": "2025-10-07T16:30:00.128Z",
    "__v": 0
  }
}</pre
        >
      </section>

      <section id="post-event">
        <h2>POST /events</h2>
        <p>Creates a new event (ADMIN only).</p>
        <h3>Example Request</h3>
        <pre>
{
  "title": "Tech Summit 2025",
  "description": "Annual event for developers and innovators.",
  "date": "2025-09-15",
  "price": 25,
  "location": "Torino",
  "capacity": 100
}</pre
        >
        <h3>Example Response</h3>
        <pre>
{
  "message": "Event successfully created",
  "event": {
    "_id": "68e555e6228fa4ad21af6705",
    "title": "Tech Summit 2025",
    "description": "Annual event for developers and innovators.",
    "date": "2025-09-15",
    "price": 25,
    "location": "Torino",
    "image": null,
    "capacity": 100,
    "attendees": [],
    "createdAt": "2025-10-07T16:35:00.128Z",
    "updatedAt": "2025-10-07T16:35:00.128Z",
    "__v": 0
  }
}</pre
        >
      </section>

      <section id="patch-event">
        <h2>PATCH /events/:id</h2>
        <p>Updates an existing event (ADMIN only).</p>
        <h3>Example Request</h3>
        <pre>
{
  "title": "Hackathon Open Source 2026",
  "description": "Updated event details"
}</pre
        >
        <h3>Example Response</h3>
        <pre>
{
  "message": "Event successfully updated",
  "event": {
    "_id": "68e555e6228fa4ad21af6704",
    "title": "Hackathon Open Source 2026",
    "description": "Updated event details",
    "date": "2025-12-06",
    "price": 0,
    "location": "San Francisco, CA",
    "image": "https://example.com/event1.png",
    "capacity": 200,
    "attendees": ["64f123abc456def789012345"],
    "createdAt": "2025-10-07T16:30:00.128Z",
    "updatedAt": "2025-10-07T16:40:00.128Z",
    "__v": 0
  }
}</pre
        >
      </section>

      <section id="delete-event">
        <h2>DELETE /events/:id</h2>
        <p>Deletes an event (ADMIN only).</p>
        <h3>Example Request</h3>
        <pre>{}</pre>
        <h3>Example Response</h3>
        <pre>
{
  "message": "Event successfully deleted",
  "event": {
    "_id": "68e555e6228fa4ad21af6704",
    "title": "Open Source Hackathon 2025",
    "description": "Collaborative coding weekend.",
    "date": "2025-12-06",
    "price": 0,
    "location": "San Francisco, CA",
    "image": "https://example.com/event1.png",
    "capacity": 200,
    "attendees": ["64f123abc456def789012345"]
  }
}</pre
        >
      </section>

      <section id="post-register-event">
        <h2>POST /events/:id/register</h2>
        <p>Registers the current authenticated user for the selected event.</p>
        <h3>Example Request</h3>
        <pre>{}</pre>
        <h3>Example Response</h3>
        <pre>
{
  "message": "User successfully registered for event",
  "event": {
    "_id": "68e555e6228fa4ad21af6704",
    "title": "Open Source Hackathon 2025",
    "attendees": ["64f123abc456def789012345"]
  },
  "user": {
    "_id": "64f123abc456def789012345",
    "name": "John Smith",
    "username": "johnsmith",
    "events": ["68e555e6228fa4ad21af6704"]
  }
}</pre
        >
      </section>
    </main>

    <footer>
      <p>© 2025 - Giuseppe Bisignano | DotComm</p>
    </footer>
  </body>
</html>
